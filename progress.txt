# InterviewGuide Progress

## 2026-02-26 - Bootstrap and Planning

### What was done
- 初始化 `InterviewGuide` 本地仓库并切换到 `main`。
- 提交设计文档：`plans/2026-02-26-interviewguide-v1-design.md`。
- 提交实现计划：`plans/2026-02-26-interviewguide-v1-implementation-plan.md`。

### Verification
- `git log --oneline` 显示设计与计划提交存在。

### Notes
- 后续按任务小步提交，保证每个任务均有可追溯提交记录。

---

## 2026-02-26 - Task T01: 建立测试与脚本基础设施

### What was done
- 在 `package.json` 增加 `test` / `test:watch` 脚本。
- 新增 `vitest.config.ts`。
- 新增 `tests/smoke/basic.test.ts` 和 `tests/fixtures/.gitkeep`。
- 生成并提交 `package-lock.json`。

### Verification
- `npm run test` 通过（1 test passed）。
- 提交: `427e7d4 chore: add test runner baseline`。

### Notes
- 测试基线可作为后续 TDD 任务入口。

---

## 2026-02-26 - Task T02: 建立持久化流程文件

### What was done
- 新增 `tests/workflow/task_schema.test.ts`（先失败后修复）。
- 新增 `AGENT.MD`。
- 新增 `task.json`，记录当前任务状态。
- 新增 `progress.txt` 持续日志。

### Verification
- RED: `npm run test -- tests/workflow/task_schema.test.ts` 因缺失 `task.json` 失败。
- GREEN: 创建流程文件后再次执行同命令应通过。

### Notes
- 从本任务开始，严格执行“单任务、单提交、可验证”流程。

---

## 2026-02-26 - Task T03: 数据解析脚本

### What was done
- 新增 `tests/fixtures/knowledge_sample.md` 与 `tests/fixtures/company_sample.md`。
- 新增 `tests/data/parse_knowledge.test.ts`，先验证缺失解析器时失败。
- 新增 `scripts/lib/types.ts`。
- 新增 `scripts/lib/parse_knowledge.ts`（分类、题目、出现次数、公司、变体解析）。
- 新增 `scripts/lib/parse_company.ts`（公司、题目、出现次数解析）。
- 新增 `scripts/build-data.ts` 生成原始 JSON 产物（`src/data/*.raw.json`）。

### Verification
- RED: `npm run test -- tests/data/parse_knowledge.test.ts`，因缺失 `parse_knowledge` 失败。
- GREEN: 同命令通过（1 test passed）。
- 回归: `npm run test` 通过（3 test passed）。

### Notes
- 解析器先满足最小结构化抽取，后续在 T04 增加 AI 范围过滤与正式产物。

---

## 2026-02-26 - Task T04: AI 范围过滤与 JSON 产物生成

### What was done
- 新增 `tests/data/filter_ai_scope.test.ts`，先验证缺失过滤器时失败。
- 新增 `scripts/lib/keywords.ts`（AI 核心分类与系统设计关键词）。
- 新增 `scripts/lib/filter_ai_scope.ts`（白名单分类保留 + AI 系统设计关键词筛）。
- 更新 `scripts/build-data.ts`，生成正式产物：
  - `src/data/questions.json`
  - `src/data/companies.json`
  - `src/data/categories.json`
  - `src/data/stats.json`
  - `src/data/search-index.json`
- 使用 `vite-node` 执行构建脚本，产出 12,960 条 AI 范围题目。

### Verification
- RED: `npm run test -- tests/data/filter_ai_scope.test.ts`，缺失模块失败。
- GREEN: 同命令通过（1 test passed）。
- 数据生成: `./node_modules/.bin/vite-node scripts/build-data.ts` 输出：
  - `knowledge rows: 22019`
  - `scoped rows: 12960`
  - `company rows: 26456`
- 回归: `npm run test` 通过（4 test passed）。

### Notes
- 脚本通过 `--knowledge` 和 `--company` 参数可切换输入源，默认读取 `../result/output`。

---

## 2026-02-26 - Task T05: 公司定向主链路

### What was done
- 新增 `tests/routes/companies_routes.test.ts`，先验证缺失路由失败。
- 新增 `src/pages/companies/index.astro`（公司列表页）。
- 新增 `src/pages/companies/[company].astro`（公司题目详情页，按频次排序并支持前端关键词搜索）。
- 新增 `src/components/questions/QuestionCard.astro`。
- 新增 `src/components/filters/SearchBox.ts` 和 `src/lib/path.ts`。
- 重写 `src/pages/index.astro`，默认入口切换到公司定向。
- 更新 `src/layouts/Layout.astro` 导航，突出公司定向入口。

### Verification
- RED: `npm run test -- tests/routes/companies_routes.test.ts` 失败（路由文件不存在）。
- GREEN: 同命令通过（1 test passed）。
- 回归: `npm run test` 通过（5 test passed）。
- 构建: `npm run build` 通过，生成 `companies` 相关静态路由。

### Notes
- 当前公司维度里有少量“等N家公司”噪声实体，后续可在数据清洗阶段去除。
